# THE FOLLOWING IS AUTOMATICALLY GENERATED BY ANSIBLE
# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

# The loopback network interface
auto lo
iface lo inet loopback

# Network Interfaces
{% for interface in interfaces %}
{% if (interface.iface is defined and interface.iface != "") %}
auto {{ interface.iface }}
{% if (interface.ipv4 is defined and interface.ipv4 != "") %}
iface {{ interface.iface }} inet static
    address {{ interface.ipv4 }}
    netmask {{ interface.netmask }}
    network {{ interface.network }}
    broadcast {{ interface.broadcast }}
{% if interface.gateway is defined %}
    gateway {{ interface.gateway }}
{% endif %}
{% if interface.dnsprimary is defined %}
    dns-nameserver {{ interface.dnsprimary }}
{% else %}
    dns-nameserver 8.8.8.8
{% endif %}
{% if interface.dnssecondary is defined %}
    dns-nameserver {{ interface.dnssecondary }}
{% else %}
    dns-nameserver 8.8.8.8
{% endif %}
{% else %}
iface {{ interface.iface }} inet dhcp
{% endif %}
{% endif %}

{% endfor %}